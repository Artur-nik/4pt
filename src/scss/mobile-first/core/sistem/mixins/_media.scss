@mixin media($bp, $mod: min) {
    @if $bp != 'default'  {
        @if $mod == 'min' {
            @if map-has-key($breakpoints, 'min') and map-has-key(map-get($breakpoints, 'min'), $bp){
                @media (min-width: _value($breakpoints, $bp, 'min')){
                    @content;
                }                    
            }
        }
        @else if $mod == 'only'{
            @if index(map-keys(map-get($breakpoints, 'only')), $bp)  == 1{
                @media (max-width: _value($breakpoints, $bp, 'only') - 1){
                    @content;
                }
            }
            @else if index(map-keys(map-get($breakpoints, 'only')), $bp) == length(map-keys(map-get($breakpoints, 'only'))){}
            @else {
                @if map-has-key(map-get($breakpoints, 'only'), $bp){
                    @media (min-width: _value($breakpoints, $bp, 'only')) 
                            and
                            (max-width: _value($breakpoints, nth(map-keys(map-get($breakpoints, 'only')), index(map-keys(map-get($breakpoints, 'only')), $bp) + 1), 'only') - 1)
                    {
                        @content;
                    }                      
                }
            } 
        }
        @else {
            @warn 'media modificators = only, min, max';
        }
    } 
}